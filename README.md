# Домашнее Задание Евгения Сартисона #

## (1) Создание проекта ##
***Создайте виртуальную машину в Яндекс.Облаке // любых других облаках // у себя на компьютере с параметрами: 1-2 ядра, 2-4 ГБ памяти, операционная система Ubuntu.. Назовите проект в формате bananaflow-<yyyymmdd>, где yyyymmdd — год, месяц и день вашего рождения (например, bananaflow-19900101).***

Для экономии времени, взял уже существующую у меня виртуальную машину и выполнил всю работу там. 


## (2) Настройка SSH-доступа ## 
***- Добавьте свой SSH-ключ к виртуальной машине.***
***- Подключитесь к машине через SSH (первая сессия). Не забудьте использовать ssh-add для добавления ключа в агент.***
***- *Почему это важно:* Алексей всегда использует SSH-ключи для безопасного доступа к серверам.***

Сделано


## (3) Установка PostgreSQL ##
***- Установите PostgreSQL из пакетов с помощью команды apt install.***
***- *Почему это важно:* Алексей выбрал этот метод, чтобы быстро развернуть базу данных без лишних сложностей.***

выполнил стандартную установку Postgres кластера
![image](https://github.com/user-attachments/assets/a27f7e74-17bc-460a-81c5-ad99cc17f262)

## (4) Подключение к PostgreSQL ##
 ***Откройте вторую SSH-сессию и подключитесь к PostgreSQL через psql от имени пользователя postgres.***
 ****Почему это важно:* Алексей использовал две сессии, чтобы имитировать работу нескольких пользователей.***

сделано
![image](https://github.com/user-attachments/assets/9cb97ca5-fbe5-4a08-9584-87a4ff9bd9e0)


## (5) Работа с транзакциями ##

Выключите автоматический коммит (auto commit) в обеих сессиях.
  
- В первой сессии создайте таблицу shipments (перевозки) и добавьте в неё данные:

  sql

  ```sql
  create table shipments(id serial, product_name text, quantity int, destination text);
  insert into shipments(product_name, quantity, destination) values('bananas', 1000, 'Europe');
  insert into shipments(product_name, quantity, destination) values('coffee', 500, 'USA');
  commit;
  ```
- *Почему это важно:* Алексей использовал эту таблицу для учёта перевозок бананов и кофе.

**Изучение уровней изоляции**

- Проверьте текущий уровень изоляции с помощью команды:

  ```sql
  show transaction isolation level;
  ```
- Начните новую транзакцию в обеих сессиях с уровнем изоляции по умолчанию.
- В первой сессии добавьте новую запись:

  ```sql
  insert into shipments(product_name, quantity, destination) values('sugar', 300, 'Asia');
  ```
- Во второй сессии выполните:

  ```sql
  select * from shipments;
  ```
- Видите ли вы новую запись? Объясните, почему да или нет.
- Завершите первую транзакцию с помощью commit; и снова выполните select \* from shipments во второй сессии. Видите ли вы новую запись теперь? Объясните.
- *Почему это важно:* Алексей изучал уровни изоляции, чтобы понять, как данные видны разным пользователям.

**Эксперименты с уровнем изоляции Repeatable Read**

- Начните новые транзакции в обеих сессиях с уровнем изоляции repeatable read:

  ```sql
  set transaction isolation level repeatable read;
  ```
- В первой сессии добавьте новую запись:

  ```sql
  insert into shipments(product_name, quantity, destination) values('bananas', 2000, 'Africa');
  ```
- Во второй сессии выполните:

  ```sql
  select * from shipments;
  ```
- Видите ли вы новую запись? Объясните, почему да или нет.
- Завершите первую транзакцию с помощью commit; и снова выполните select \* from shipments во второй сессии. Видите ли вы новую запись теперь? Объясните.
- Завершите вторую транзакцию и снова выполните select \* from shipments. Видите ли вы новую запись? Объясните.
- *Почему это важно:* Алексей экспериментировал с уровнями изоляции, чтобы понять, как они влияют на видимость данных.
